rm -rf venv
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt

brew services stop postgresql
docker-compose down -v && docker-compose up -d

docker-compose down && docker volume rm drone-detector_postgres_data && chmod +x init.sh && docker-compose up -d

sudo docker compose down
sudo docker volume rm drone-detector_postgres_data
chmod +x init.sh
sudo docker compose up -d


brew services start postgresql
brew install llvm libsndfile
uvicorn main:app --reload
uvicorn main:app --host 0.0.0.0 --port 8000 --reload

curl -X DELETE http://localhost:8000/detections/

curl -X POST "http://localhost:8000/calibrate_noise?duration=5"

<link rel="stylesheet" href="/static/css/style.css">


ALTER TABLE detection_events ALTER COLUMN spectral_features TYPE JSON;

ALTER TABLE jamming_events
ALTER COLUMN affected_systems TYPE JSON
USING array_to_json(affected_systems);

/etc/systemd/system/cloudflared.service for tunel setup
/home/pi/.cloudflared/config.yml - for hosts management

alembic stamp head
alembic revision --autogenerate -m "initial migration"
alembic upgrade head

.. build from a rasp
docker-compose down && docker volume rm drone-detector_postgres_data && chmod +x init.sh && docker-compose up -d
sudo docker build -t drone-detector-app .
cd drone-detector-runner
sudo docker-compose up -d
